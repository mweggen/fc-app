<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../bower_components/paper-tooltip/paper-tooltip.html">
<link rel="import" href="fc-devotion.html">
<link rel="import" href="fc-trust.html">
<link rel="import" href="fc-slave-title.html">
<link rel="import" href="fc-age-health-desc.html">
<link rel="import" href="fc-eye-desc.html">
<link rel="import" href="fc-waist-desc.html">
<link rel="import" href="fc-skin-desc.html">
<link rel="import" href="fc-boobs-desc.html">
<link rel="import" href="fc-boobs-shape-desc.html">
<link rel="import" href="fc-boobs-extra-desc.html">
<link rel="import" href="fc-shoulders-desc.html">
<link rel="import" href="fc-nipples-desc.html">
<link rel="import" href="fc-areolae-desc.html">
<link rel="import" href="fc-belly-desc.html">
<link rel="import" href="fc-butt-desc.html">
<link rel="import" href="fc-crotch-desc.html">
<link rel="import" href="fc-vagina-desc.html">
<link rel="import" href="fc-upper-face-desc.html">
<link rel="import" href="fc-hair-desc.html">
<link rel="import" href="fc-face-desc.html">

<dom-module id="fc-slave-long-desc">
  <template>
    <style>
      .bad {
        color: red;
      }
      .good {
        color: pink;
      }
      iron-pages {
        display: inline;
      }
      .desc {
        cursor: pointer;
        font-weight: bold;
      }
      p {
        text-indent: 1em;
      }
    </style>
    <div style="padding: 15px">
      <p>
        <b>[[slave.birthName]] [[slave.birthSurname]]</b> is
        <fc-devotion article="true" value="[[slave.devotion]]"></fc-devotion>,
        <fc-trust value="[[slave.trust]]"></fc-trust>
        <fc-slave-title slave="[[slave]]"></fc-slave-title>.
        <fc-age-health-desc slave="[[slave]]"></fc-age-health-desc>
        <fc-eye-desc slave="[[slave]]"></fc-eye-desc>
      </p>
      <p></p>
      <p>
        <template is="dom-if" if="{{!saleDescription}}">She</template>
        <template is="dom-if" if="{{saleDescription}}">[[slave.slaveName]]</template>
        is
        <iron-pages selected="[[_heightDescIndex]]">
          <span>petite</span>
          <span>short</span>
          <span>an average height</span>
          <span>tall</span>
          <span>very tall</span>
        </iron-pages>
        at [[slave.height]] cm, and
        <iron-pages selected="[[_weightDescIndex]]">
          <span><span class="desc bad">[[_weight0Desc]]</span>.</span>
          <span>[[_weight1ADesc]], but her motherly hips make the extra weight attractive on her.</span>
          <span><span class="desc bad">[[_weight1BDesc]]</span>.</span>
          <span>[[_weight2Desc]].</span>
          <span>[[_weight3Desc]].</span>
          <span>[[_weight4Desc]].</span>
          <span>[[_weight5ADesc]], but her trim hips make her look like a model.</span>
          <span><span class="desc bad">[[_weight5BDesc]]</span>.</span>
          <span><span class="desc bad">[[_weight6Desc]]</span>.</span>
        </iron-pages>
        <fc-waist-desc slave="[[slave]]"></fc-waist-desc>
        <iron-pages selected="[[_musclesIndex]]">
          <span>She is <span id="muscles0" class="desc good">extremely muscular</span>, with defined pecs, powerful glutes, and massive traps.</span>
          <span>She is <span id="muscles1" class="desc good">quite muscular</span>, with ripped abs, strong shoulders, and defined lats.</span>
          <span>She is <span id="muscles2" class="desc good">well built</span>, yet feminine, with just-visible muscles.</span>
        </iron-pages>
        <paper-tooltip for="[[_musclesId]]" position="top">[[slave.muscles]]</paper-tooltip>
        <fc-skin-desc slave="[[slave]]"></fc-skin-desc>
        <template is="dom-if" if="{{saleDescription}}">
          <!--todo accent desc-->
        </template>

        <template is="dom-if" if="{{_eq(slave.fuckdoll, 0)}}">
          <template is="dom-if" if="{{_eq(slave.markings, 'birthmark')}}">
            She has a large, liver-colored birthmark, detracting from her beauty.
          </template>
          <template is="dom-if" if="{{_eq(slave.skin, 'tanned')}}">
            <template is="dom-if" if="{{!_eq(slave.releaseRules, 'restrictive')}}">
              <template is="dom-if" if="{{_gt(slave.fetishStrength, 60)}}">
                <template is="dom-if" if="{{_eq(slave.fetishKnown, 1)}}">
                  Her tan is slightly uneven, since she enjoys
                  <template is="dom-if" if="{{_eq(slave.fetish, 'buttslut')}}">
                    letting other tanned slaves share a tanning bed with her so they can sodomize her while she tans.
                  </template>
                  <template is="dom-if" if="{{!_eq(slave.fetish, 'buttslut')}}">
                    <template is="dom-if" if="{{_eq(slave.fetish, 'cumslut')}}">
                      letting other tanned slaves share a tanning bed with her so they get oral from her while she tans.
                    </template>
                    <template is="dom-if" if="{{!_eq(slave.fetish, 'cumslut')}}">
                      <template is="dom-if" if="{{_eq(slave.fetish, 'sadist')}}">
                        forcing inferior slaves into the tanning beds with her so she can sodomize them while she tans.
                      </template>
                      <template is="dom-if" if="{{!_eq(slave.fetish, 'sadist')}}">
                        <template is="dom-if" if="{{_eq(slave.fetish, 'dom')}}">
                          bringing other slaves into the tanning beds with her so she can fuck them while she tans.
                        </template>
                        <template is="dom-if" if="{{!_eq(slave.fetish, 'dom')}}">
                          <template is="dom-if" if="{{_eqor(slave.fetish, 'masochist', 'submissive')}}">
                            letting other slaves into the tanning beds with her so they can fuck her while she tans.
                          </template>
                          <template is="dom-if" if="{{!_eqor(slave.fetish, 'masochist', 'submissive')}}">
                            <template is="dom-if" if="{{_eq(slave.fetish, 'boobs')}}">
                              bringing other slaves into the tanning beds with her so she can tittyfuck them while she tans.
                            </template>
                            <template is="dom-if" if="{{!_eq(slave.fetish, 'boobs')}}">
                              <template is="dom-if" if="{{_eq(slave.fetish, 'pregnancy')}}"><!--todo seeDicks-->
                                letting slaves with dicks into the tanning beds with her so they can cum inside her while she tans.
                              </template>
                              <template is="dom-if" if="{{!_eq(slave.fetish, 'pregnancy')}}">
                                bringing other slaves into the tanning beds with her to have sex while she tans.
                              </template>
                            </template>
                          </template>
                        </template>
                      </template>
                    </template>
                  </template>
                </template>
              </template>
            </template>
          </template>
        </template>

        <template is="dom-if" if="{{!saleDescription}}">
          <fc-upper-face-desc slave="[[slave]]"></fc-upper-face-desc>
          <fc-hair-desc slave="[[slave]]"></fc-hair-desc>
        </template>
        <template is="dom-if" if="{{saleDescription}}">Her hair is [[slave.hColor]].</template>

        <template is="dom-if" if="{{_eq(slave.fuckdoll, 0)}}">
          <template is="dom-if" if="{{_eq(slave.hColor, 'red')}}">
            <template is="dom-if" if="{{!_gt(10, slave.hLength)}}">
              <template is="dom-if" if="{{_eqor(slave.markings, 'freckles', 'heavily freckled')}}">
                <template is="dom-if" if="{{_eqor(slave.skin, 'pale', 'fair')}}">
                  It goes perfectly with her [[slave.skin]] skin and freckles.
                </template>
              </template>
            </template>
          </template>
        </template>

        <template is="dom-if" if="{{_eq(slave.voice, 0)}}">
          She is <span class="good">completely silent</span>, which is understandable, since she's mute.
        </template>
        <template is="dom-if" if="{{!_eq(slave.voice, 0)}}">
          <template is="dom-if" if="{{_gt(slave.lips, 95)}}">
            She is <span class="good">effectively mute</span>, since her lips are so large that she can no longer speak intelligibly.
            She can still
            <template is="dom-if" if="{{_gt(slave.devotion, 50)}}">
              moan
            </template>
            <template is="dom-if" if="{{!_gt(slave.devotion, 50)}}">
              <template is="dom-if" if="{{!_gt(20, slave.devotion)}}">
                whimper
              </template>
              <template is="dom-if" if="{{_gt(20, slave.devotion)}}">
                scream
              </template>
            </template>
            through them, though.
          </template>
        </template>

        <!--todo ear/nose/eyebrow piercing desc-->

        <!--todo face desc-->
        <fc-face-desc slave="[[slave]]"></fc-face-desc>

        <!--todo mouth desc-->

      </p>
      <p>
        <fc-boobs-desc slave="[[slave]]"></fc-boobs-desc>
        <fc-boobs-shape-desc slave="[[slave]]"></fc-boobs-shape-desc>
        <fc-boobs-extra-desc slave="[[slave]]"></fc-boobs-extra-desc>
        <fc-shoulders-desc slave="[[slave]]"></fc-shoulders-desc>
        <fc-nipples-desc slave="[[slave]]"></fc-nipples-desc>
        <fc-areolae-desc slave="[[slave]]"></fc-areolae-desc>
        <fc-belly-desc slave="[[slave]]"></fc-belly-desc>
        <fc-butt-desc slave="[[slave]]"></fc-butt-desc>
      </p>
      <p>
        <fc-crotch-desc
            slave="[[slave]]"
            sale-description="[[saleDescription]]">
        </fc-crotch-desc>
        <fc-vagina-desc slave="[[slave]]"></fc-vagina-desc>
      </p>
    </div>
  </template>
  <script>
    class FCSlaveLongDesc extends Polymer.Element {
      static get is() { return "fc-slave-long-desc"; }
      static get properties() { return {
        slave: Object,
        hideClothing: Boolean,
        saleDescription: Boolean,

        _heightDescIndex: { computed: '_computeHeightDescIndex(slave.height)' },
        _weightDescIndex: { computed: '_computeWeightDescIndex(slave.weight, slave.hips)' },
        _musclesIndex: { computed: '_computeMusclesIndex(slave.muscles)' },
        _musclesId: { computed: '_computeMusclesId(_musclesIndex)' },

        _bigHips: { computed: '_computeBigHips(slave.hips)' },
        _smallHips: { computed: '_computeSmallHips(slave.hips)' },

        _weight0Descs: { value() { return ['overweight', 'carrying a lot of extra weight', 'fat'] }},
        _weight1ADescs: { value() { return ['quite curvy', 'very plush'] }},
        _weight1BDescs: { value() { return ['chubby', 'carrying extra weight'] }},
        _weight2Descs: { value() { return ['pleasingly curvy', 'nicely plush'] }},
        _weight3Descs: { value() { return ['a healthy weight', 'neither too fat nor too skinny', 'an attractive weight'] }},
        _weight4Descs: { value() { return ['pleasingly thin', 'appealingly skinny'] }},
        _weight5ADescs: { value() { return ['very thin', 'quite skinny'] }},
        _weight5BDescs: { value() { return ['rail thin', 'underweight', 'too skinny'] }},
        _weight6Descs: { value() { return ['emaciated', 'dangerously skinny'] }},

        _weight0Desc: { computed: '_moduloElement(_weight0Descs, slave.weight)' },
        _weight1ADesc: { computed: '_moduloElement(_weight1ADescs, slave.weight)' },
        _weight1BDesc: { computed: '_moduloElement(_weight1BDescs, slave.weight)' },
        _weight2Desc: { computed: '_moduloElement(_weight2Descs, slave.weight)' },
        _weight3Desc: { computed: '_moduloElement(_weight3Descs, slave.weight)' },
        _weight4Desc: { computed: '_moduloElement(_weight4Descs, slave.weight)' },
        _weight5ADesc: { computed: '_moduloElement(_weight5ADescs, slave.weight)' },
        _weight5BDesc: { computed: '_moduloElement(_weight5BDescs, slave.weight)' },
        _weight6Desc: { computed: '_moduloElement(_weight6Descs, slave.weight)' }
      }}

      _eq(v1, v2) { return v1 === v2; }
      _eqor(v1, v2, v3) { return v1 === v2 || v1 === v3; }
      _gt(v1, v2) { return v1 > v2; }

      _moduloElement(array, m) { return array ? array[Math.abs(m) % array.length] : ''; }

      _computeBigHips(h) { return h > 1; }

      _computeSmallHips(h) { return h < -1; }

      _computeMusclesIndex(m) { return m > 95 ? 0 : m > 30 ? 1 : m > 5 ? 2 : 3; }

      _computeMusclesId(m) { return "muscles" + m; }

      _computeHeightDescIndex(h) { return h < 149 ? 0 : h < 156 ? 1 : h < 169 ? 2 : h < 176 ? 3 : 4; }

      _computeWeightDescIndex(w, h) {
        return w > 95 ? 0 : w > 30 ? (h > 1 ? 1 : 2) : w > 10 ? 3 : w >= -10 ? 4 : w >= -30 ? 5 : w >= -95 ? (h < -1 ? 6 : 7) : 8;
      }
    }

    customElements.define(FCSlaveLongDesc.is, FCSlaveLongDesc);
  </script>
</dom-module>
